import{_ as a,c as n,b as s,a as t,r as o,o as r}from"./app.d8a09d34.js";const f='{"title":"MySQL","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5173\u7CFB/\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93","slug":"\u5173\u7CFB-\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93"},{"level":3,"title":"\u5173\u7CFB\u578B\u6570\u636E\u5E93","slug":"\u5173\u7CFB\u578B\u6570\u636E\u5E93"},{"level":3,"title":"\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93","slug":"\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93"},{"level":2,"title":"\u6570\u636E\u7C7B\u578B","slug":"\u6570\u636E\u7C7B\u578B"},{"level":3,"title":"char/varchar","slug":"char-varchar"},{"level":2,"title":"\u6B63\u6392/\u5012\u6392\u7D22\u5F15","slug":"\u6B63\u6392-\u5012\u6392\u7D22\u5F15"},{"level":2,"title":"\u53C2\u8003","slug":"\u53C2\u8003"}],"relativePath":"posts/renew/mysql/MySQL.md"}',c={},p=t(`<h1 id="mysql" tabindex="-1">MySQL <a class="header-anchor" href="#mysql" aria-hidden="true">#</a></h1><h2 id="\u5173\u7CFB-\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93" tabindex="-1">\u5173\u7CFB/\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93 <a class="header-anchor" href="#\u5173\u7CFB-\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93" aria-hidden="true">#</a></h2><h3 id="\u5173\u7CFB\u578B\u6570\u636E\u5E93" tabindex="-1">\u5173\u7CFB\u578B\u6570\u636E\u5E93 <a class="header-anchor" href="#\u5173\u7CFB\u578B\u6570\u636E\u5E93" aria-hidden="true">#</a></h3><blockquote><p>A relational database stores data in separate tables rather than putting all the data in one big storeroom. The database structures are organized into physical files optimized for speed. The logical model, with objects such as databases, tables, views, rows, and columns, offers a flexible programming environment.</p></blockquote><p>\u5173\u7CFB\u578B\u6570\u636E\u5E93\u5C06\u6570\u636E\u5B58\u50A8\u5728\u4E0D\u540C\u7684\u6570\u636E\u8868\u4E2D\uFF0C\u800C\u4E0D\u662F\u5C06\u6240\u6709\u7684\u6570\u636E\u653E\u5728\u4E00\u4E2A\u5927\u7684\u5B58\u50A8\u7A7A\u95F4\u4E2D\u3002\u5173\u7CFB\u578B\u6570\u636E\u5E93\u7ED3\u6784\u88AB\u7EC4\u7EC7\u6210\u7269\u7406\u6587\u4EF6\uFF0C\u4EE5\u4F18\u5316\u901F\u5EA6\u3002\u903B\u8F91\u4E0A\uFF0C\u5173\u7CFB\u578B\u6570\u636E\u5E93\u5305\u542B\u6570\u636E\u5E93/\u8868/\u8BD5\u56FE/\u884C/\u5217\uFF0C\u5E76\u63D0\u4F9B\u7075\u6D3B\u7684\u7F16\u7A0B\u73AF\u5883\u3002</p><blockquote><p>You set up rules governing the relationships between different data fields, such as one-to-one, one-to-many, unique, required or optional, and \u201Cpointers\u201D between different tables. The database enforces these rules, so that with a well-designed database, your application never sees inconsistent, duplicate, orphan, out-of-date, or missing data.</p></blockquote><p>\u53EF\u4EE5\u5B9A\u4E49\u89C4\u5219\u7528\u6765\u7BA1\u7406\u6570\u636E\u5E93\u4E2D\u4E0D\u540C\u6570\u636E\u5B57\u6BB5\u4E4B\u95F4\u7684\u5173\u7CFB\uFF0C\u6BD4\u5982\u8BF4\uFF0C\u4E00\u5BF9\u4E00\uFF0C\u4E00\u5BF9\u591A\uFF0C\u552F\u4E00\uFF0C\u5FC5\u987B\u6216\u53EF\u9009\uFF0C\u5728\u4E0D\u540C\u7684\u6570\u636E\u8868\u4E4B\u95F4\u8FD8\u6709\u5BF9\u5E94\u7684\u6307\u9488\u3002\u6570\u636E\u5E93\u4F1A\u5F3A\u5236\u6267\u884C\u8FD9\u4E9B\u89C4\u5219\uFF0C\u56E0\u6B64\u5728\u4E00\u4E2A\u826F\u597D\u8BBE\u8BA1\u7684\u6570\u636E\u5E93\u4E2D\uFF0C\u8FD0\u884C\u5728\u5176\u4E0A\u7684\u5E94\u7528\u7A0B\u5E8F\u4E0D\u4F1A\u770B\u5230\u4E0D\u4E00\u81F4\u7684\uFF0C\u91CD\u590D\u7684\uFF0C\u5B64\u7ACB\u7684\uFF0C\u8FC7\u65F6\u7684\u6216\u4E22\u5931\u7684\u6570\u636E\u3002</p><p><strong>\u7279\u70B9</strong></p><p>1\u3001\u5B58\u50A8\u5A92\u4ECB\uFF1A</p><p>\u5173\u7CFB\u578B\u6570\u636E\u5E93\u7684\u6570\u636E\u5B58\u50A8\u5728<strong>\u78C1\u76D8</strong>\uFF0C\u76F8\u6BD4\u4E8E\u5B58\u50A8\u5728\u5185\u5B58\u66F4\u52A0\u7A33\u5B9A\uFF1B\u4F46\u662F\u9AD8\u5E76\u53D1\u4E0B IO \u538B\u529B\u5927\uFF0C\u9762\u5BF9\u5927\u91CF\u5B58\u50A8\u6570\u636E\u65E0\u6CD5\u5FEB\u901F\u54CD\u5E94\uFF1B</p><p>2\u3001\u5B58\u50A8\u7ED3\u6784\uFF1A</p><p>\u5173\u7CFB\u578B\u6570\u636E\u5E93\u6309\u7167<strong>\u7ED3\u6784\u5316\u5B58\u50A8</strong>\u6570\u636E\uFF0C\u6570\u636E\u8868\u63D0\u524D\u5B9A\u4E49\u597D\u5B57\u6BB5\uFF0C\u518D\u6839\u636E\u8868\u7684\u7ED3\u6784\u5B58\u5165\u6570\u636E\u3002\u63D0\u524D\u5B9A\u4E49\u7ED3\u6784\u4F7F\u5F97\u6570\u636E\u8868\u4E43\u81F3\u6574\u4E2A\u6570\u636E\u5E93\u7684\u53EF\u9760\u6027\u548C\u7A33\u5B9A\u6027\u90FD\u6BD4\u8F83\u9AD8\uFF0C\u53EF\u540E\u7EED\u4FEE\u6539\u8868\u7ED3\u6784\u4E0D\u65B9\u4FBF\uFF1B</p><p>3\u3001\u5B58\u50A8\u89C4\u8303\uFF1A</p><p>\u5173\u7CFB\u578B\u6570\u636E\u5E93\u6309\u7167<strong>\u6570\u636E\u8868</strong>\u7684\u5F62\u5F0F\u8FDB\u884C\u5B58\u50A8\uFF0C\u907F\u514D\u5B58\u50A8\u91CD\u590D\u6570\u636E\uFF0C\u53CA\u89C4\u8303\u5316\u6570\u636E\u4EE5\u5145\u5206\u5229\u7528\u5B58\u50A8\u7A7A\u95F4\uFF1B\u4F46\u8868\u4E4B\u95F4\u5B58\u5728\u590D\u6742\u7684\u5173\u7CFB\uFF0C\u968F\u7740\u6570\u636E\u8868\u6570\u91CF\u7684\u589E\u52A0\uFF0C\u6570\u636E\u7BA1\u7406\u4F1A\u8D8A\u6765\u8D8A\u590D\u6742\uFF1B</p><p>4\u3001\u6269\u5C55\u65B9\u5F0F\uFF1A</p><p>\u6C34\u5E73\u6269\u5C55\uFF08\u589E\u52A0\u6570\u91CF\uFF09\u548C\u5782\u76F4\u6269\u5C55\uFF08\u6309\u4E1A\u52A1\u62C6\u5206\uFF09\uFF1B</p><p>5\u3001\u67E5\u8BE2\uFF1A</p><p>\u91C7\u7528\u7ED3\u6784\u5316\u67E5\u8BE2\u8BED\u8A00\uFF08\u5373 SQL\uFF09\u8FDB\u884C\u67E5\u8BE2\uFF0C\u53EF\u4EE5\u8FDB\u884C\u590D\u6742\u7684\u67E5\u8BE2\uFF0C\u4E5F\u652F\u6301\u521B\u5EFA\u67E5\u8BE2\u7D22\u5F15\uFF0C\u4F46\u540E\u7EED\u9700\u8981\u540C\u65F6\u517C\u987E\u6570\u636E\u548C\u7D22\u5F15\u7684\u5B58\u50A8/\u7EF4\u62A4\uFF0C\u6D77\u91CF\u6570\u636E\u7684\u7D22\u5F15\u5B58\u50A8\u548C\u7EF4\u62A4\u5F00\u9500\u4E5F\u662F\u5DE8\u5927\u7684\uFF1B\u6A21\u7CCA\u67E5\u8BE2/\u5168\u6587\u641C\u7D22\u80FD\u529B\u8F83\u5F31\uFF0C\u53EF\u4EE5\u8003\u8651\u4F7F\u7528\u5982 ElasticSearch \u7B49\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93\u6765\u5B9E\u73B0\uFF1B</p><p>6\u3001\u4E8B\u52A1\uFF1A</p><p>\u5173\u7CFB\u578B\u6570\u636E\u5E93\u5F3A\u8C03 ACID \u539F\u5219\uFF0C\u5341\u5206\u5F3A\u8C03\u6570\u636E\u7684\u5F3A\u4E00\u81F4\u6027\uFF0C\u5BF9\u4E8E\u4E8B\u52A1\u7684\u64CD\u4F5C\u6709\u5F88\u597D\u7684\u652F\u6301\u3002\u5173\u7CFB\u578B\u6570\u636E\u5E93\u53EF\u4EE5\u63A7\u5236\u4E8B\u52A1\u539F\u5B50\u6027\u7EC6\u7C92\u5EA6\uFF0C\u65B9\u4FBF\u56DE\u6EDA\u64CD\u4F5C\uFF1B</p><p>\u4F46\u8981\u4FDD\u8BC1\u4E8B\u52A1\u64CD\u4F5C\u7684\u7279\u6027\u5C31\u9700\u8981\u5728\u6570\u636E\u5E93\u4E2D\u52A0\u5404\u79CD\u9501\uFF0C\u800C\u4E14\u6570\u636E\u91CF\u589E\u957F\u4E4B\u540E\u8FD8\u8981\u9762\u5BF9\u6570\u636E\u5E93\u7684\u62C6\u5206\uFF0C\u5C31\u9700\u8981\u89E3\u51B3\u5206\u5E03\u5F0F\u4E8B\u52A1\u3002</p><h3 id="\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93" tabindex="-1">\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93 <a class="header-anchor" href="#\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93" aria-hidden="true">#</a></h3><p><strong>\u7279\u70B9</strong></p><p>0\u3001\u5B58\u50A8\u5A92\u4ECB\uFF1A\u975E\u5173\u7CFB\u578B\u6570\u636E\u5E93\u5927\u591A\u6570\uFF08\u4E0D\u662F\u6240\u6709\u90FD\u662F\u5B58\u50A8\u5728\u5185\u5B58\uFF09\u90FD\u662F\u548C\u5185\u5B58\u6253\u4EA4\u9053\u7684\uFF0C\u6BD4\u5982 Redis\uFF0C\u6570\u636E\u5B58\u50A8\u5728\u5185\u5B58\u4E2D\uFF0C\u4EE5\u5B9E\u73B0\u6570\u636E\u9AD8\u6027\u80FD/\u9AD8\u5E76\u53D1\u8BBF\u95EE\u3002\u56E0\u4E3A\u5185\u5B58\u7684\u7279\u6B8A\u6027\uFF0C\u65E0\u6CD5\u4FDD\u5B58\u5F3A\u4E00\u81F4\u6027\u7684\u6570\u636E\uFF0C\u4F7F\u7528\u60C5\u666F\u66F4\u591A\u662F\u4F5C\u4E3A\u7F13\u5B58\u4F7F\u7528\uFF1B</p><p>1\u3001\u9AD8\u6027\u80FD\uFF1ANoSQL \u6570\u636E\u5E93\u90FD\u5177\u6709\u975E\u5E38\u9AD8\u7684\u8BFB\u5199\u6027\u80FD\uFF0C\u5C31\u7B97\u5728\u5927\u6570\u636E\u91CF\u4E0B\uFF0C\u540C\u6837\u8868\u73B0\u4F18\u79C0\u3002\u8FD9\u5F97\u76CA\u4E8E\u5B83\u7684\u65E0\u5173\u7CFB\u6027\uFF0C\u6570\u636E\u5E93\u7684\u7ED3\u6784\u7B80\u5355\u3002\u4E00\u822C MySQ L\u4F7F\u7528 Query Cache\u3002NoSQL \u7684 Cache \u662F\u8BB0\u5F55\u7EA7\u7684\uFF0C\u662F\u4E00\u79CD\u7EC6\u7C92\u5EA6\u7684 Cache\uFF0C\u6240\u4EE5 NoSQL \u5728\u8FD9\u4E2A\u5C42\u9762\u4E0A\u6765\u8BF4\u6027\u80FD\u5C31\u8981\u9AD8\u5F88\u591A\uFF1B</p><p>2\u3001\u9AD8\u53EF\u7528\uFF1ANoSQL \u5728\u4E0D\u592A\u5F71\u54CD\u6027\u80FD\u7684\u60C5\u51B5\uFF0C\u5C31\u53EF\u4EE5\u65B9\u4FBF\u5730\u5B9E\u73B0\u9AD8\u53EF\u7528\u7684\u67B6\u6784\u3002\u901A\u8FC7\u590D\u5236\u6A21\u578B\u4E5F\u80FD\u5B9E\u73B0\u9AD8\u53EF\u7528\uFF1B</p><p>3\u3001\u5B58\u50A8\u7ED3\u6784\uFF1ANoSQL \u65E0\u987B\u4E3A\u5B58\u50A8\u7684\u6570\u636E\u63D0\u524D\u5EFA\u7ACB\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u5B58\u50A8\u81EA\u5B9A\u4E49\u7684\u6570\u636E\u683C\u5F0F\u3002\u5E38\u89C1\u7684\u6709\u952E\u503C/\u5217\u7C07/\u6587\u6863/\u56FE\u5F62\u7B49\u5B58\u50A8\u683C\u5F0F\uFF1B</p><p>4\u3001\u4E8B\u52A1\uFF1A\u975E\u5173\u7CFB\u6570\u636E\u5E93\u4E0D\u652F\u6301\u4E8B\u52A1\uFF0C\u65E0\u6CD5\u4FDD\u8BC1\u6570\u636E\u7684\u4E00\u81F4\u6027\u548C\u5B89\u5168\u6027\u3002\u53EA\u9002\u5408\u5904\u7406\u6D77\u91CF\u6570\u636E\uFF0C\u4F46\u662F\u4E0D\u4E00\u5B9A\u5B89\u5168\uFF1B</p><p>5\u3001\u67E5\u8BE2\uFF1A\u590D\u6742\u7684\u67E5\u8BE2\u4E0D\u5BB9\u6613\u5B9E\u73B0\u3002</p><br><h2 id="\u6570\u636E\u7C7B\u578B" tabindex="-1">\u6570\u636E\u7C7B\u578B <a class="header-anchor" href="#\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a></h2><h3 id="char-varchar" tabindex="-1">char/varchar <a class="header-anchor" href="#char-varchar" aria-hidden="true">#</a></h3><blockquote><p>The <code>CHAR</code> and <code>VARCHAR</code> types are similar, but differ in the way they are stored and retrieved. They also differ in maximum length and in whether trailing spaces are retained.</p></blockquote><p><code>CHAR</code> \u548C <code>VARCHAR</code> \u7C7B\u4F3C\uFF0C\u4F46\u662F\u5728\u5B58\u50A8\u548C\u8BFB\u53D6\u4E0A\u6709\u6240\u4E0D\u540C\u3002\u9664\u6B64\u4E4B\u5916\uFF0C\u5728\u652F\u6301\u7684\u6700\u5927\u957F\u5EA6\u548C\u5B57\u7B26\u4E32\u672B\u5C3E\u7A7A\u683C\u662F\u5426\u4FDD\u7559\u4E0A\u4E5F\u6709\u5DEE\u5F02\u3002</p><blockquote><p>The <code>CHAR</code> and <code>VARCHAR</code> types are declared with a length that indicates the maximum number of characters you want to store.</p></blockquote><p><code>CHAR</code> \u548C <code>VARCHAR</code> \u5728\u5B9A\u4E49\u7684\u65F6\u5019\u90FD\u9700\u8981\u6307\u5B9A\u6240\u5B58\u50A8\u7684\u5B57\u7B26\u4E32\u7684\u6700\u5927\u957F\u5EA6\u3002</p><blockquote><p>The length of a <code>CHAR</code> column can be any value from 0 to 255.</p><p>Values in <code>VARCHAR</code> columns are variable-length strings. The length can be specified as a value from 0 to 65,535. The effective maximum length of a <code>VARCHAR</code> is subject to the maximum row size (65,535 bytes, which is shared among all columns) and the character set used.</p></blockquote><p><code>CHAR</code> \u7684\u957F\u5EA6\u662F\u56FA\u5B9A\u7684\uFF0C\u652F\u6301\u7684\u8303\u56F4\u4E3A 0 \u5230 255\u3002</p><p><code>VARCHAR</code> \u662F\u53EF\u53D8\u957F\u5EA6\u7684\u5B57\u7B26\u4E32\u7C7B\u578B\uFF0C\u5B83\u7684\u957F\u5EA6\u8303\u56F4\u4E3A 0 \u5230 65535\u3002<code>VARCHAR</code> \u7684\u6709\u6548\u6700\u5927\u957F\u5EA6\u53D6\u51B3\u4E8E\u884C\u7684\u6700\u5927\u503C\uFF0865535 bytes\uFF0C \u7531\u6240\u6709\u7684\u6570\u636E\u5217\u5171\u4EAB\uFF09\u548C\u4F7F\u7528\u7684\u5B57\u7B26\u96C6\u7C7B\u578B\u3002</p><blockquote><p>When <code>CHAR</code> values are stored, they are right-padded with spaces to the specified length.</p><p>When <code>CHAR</code> values are retrieved, trailing spaces are removed unless the <a href="https://dev.mysql.com/doc/refman/8.0/en/sql-mode.html#sqlmode_pad_char_to_full_length" target="_blank" rel="noopener noreferrer"><code>PAD_CHAR_TO_FULL_LENGTH</code></a> SQL mode is enabled.</p></blockquote><p>\u5F53\u5B58\u50A8 <code>CHAR</code> \u7C7B\u578B\u7684\u6570\u636E\u65F6\uFF0C\u5982\u679C\u957F\u5EA6\u672A\u8FBE\u5230\u521B\u5EFA\u8868\u65F6\u7684\u6307\u5B9A\u957F\u5EA6\uFF0C\u4F1A\u5728\u672B\u5C3E\u6DFB\u52A0\u4E0A\u4E00\u5B9A\u957F\u5EA6\u7684\u7A7A\u683C\u8865\u5168\u957F\u5EA6\uFF1B\u5F53\u8BFB\u53D6 <code>CHAR</code> \u7C7B\u578B\u7684\u6570\u636E\u65F6\uFF0C\u9664\u975E\u5F00\u542F <a href="https://dev.mysql.com/doc/refman/8.0/en/sql-mode.html#sqlmode_pad_char_to_full_length" target="_blank" rel="noopener noreferrer"><code>PAD_CHAR_TO_FULL_LENGTH</code></a> SQL \u6A21\u5F0F\uFF0C\u5426\u5219\u672B\u5C3E\u7684\u7A7A\u683C\u4F1A\u88AB\u79FB\u9664\u3002</p><blockquote><p><code>VARCHAR</code> values are not padded when they are stored. Trailing spaces are retained when values are stored and retrieved, in conformance with standard SQL.</p></blockquote><p>VARCHAR \u5217\u6570\u636E\u5728\u5B58\u50A8\u65F6\uFF0C\u82E5\u662F\u6570\u636E\u957F\u5EA6\u672A\u8FBE\u5230\u6307\u5B9A\u7684\u957F\u5EA6\uFF0C\u4E0D\u4F1A\u5BF9\u5176\u5185\u5BB9\u8FDB\u884C\u586B\u5145\u3002\u4F9D\u7167\u6807\u51C6\u7684 SQL \u6267\u884C\u6A21\u5F0F\uFF0C\u5C3E\u968F\u7A7A\u683C\u5728\u5B58\u50A8\u548C\u8BFB\u53D6\u7684\u65F6\u5019\u90FD\u4F1A\u88AB\u4FDD\u7559\u4E0B\u6765\u3002</p><blockquote><p>In contrast to <code>CHAR</code>, <code>VARCHAR</code> values are stored as a 1-byte or 2-byte length prefix plus data. The length prefix indicates the number of bytes in the value. A column uses one length byte if values require no more than 255 bytes, two length bytes if values may require more than 255 bytes.</p></blockquote><p>\u4E0E <code>CHAR</code> \u4E0D\u540C\uFF0C<code>VARCHAR</code> \u503C\u5B58\u50A8\u4E3A 1 \u5B57\u8282\u6216 2 \u5B57\u8282\u7684<strong>\u957F\u5EA6\u524D\u7F00</strong>\u52A0\u4E0A\u6570\u636E\u3002\u957F\u5EA6\u524D\u7F00\u8868\u793A\u6240\u5B58\u50A8\u503C\u7684\u5B57\u8282\u6570\u3002\u5982\u679C\u6570\u503C\u4E0D\u8D85\u8FC7 255 \u5B57\u8282\uFF0C\u4E00\u5217\u4F7F\u7528 1 \u957F\u5EA6\u5B57\u8282\uFF0C\u5982\u679C\u6570\u503C\u8D85\u8FC7 255 \u5B57\u8282\uFF0C\u5219\u4F7F\u7528 2 \u4E2A\u957F\u5EA6\u5B57\u8282\u3002</p><blockquote><p>If strict SQL mode is not enabled and you assign a value to a <code>CHAR</code> or <code>VARCHAR</code> column that exceeds the column&#39;s maximum length, the value is truncated to fit and a warning is generated. For truncation of nonspace characters, you can cause an error to occur (rather than a warning) and suppress insertion of the value by using strict SQL mode.</p></blockquote><p>\u5982\u679C\u6CA1\u6709\u5F00\u542F SQL \u4E25\u683C\u6A21\u5F0F\uFF0C\u5F53 char/varchar \u5217\u5B58\u50A8\u7684\u6570\u636E\u8FBE\u5230\u4E86\u6700\u5927\u957F\u5EA6\uFF0C\u8D85\u51FA\u7684\u5B57\u7B26\u4F1A\u88AB\u622A\u65AD\uFF0C\u5E76\u4E14\u4F1A\u629B\u51FA\u8B66\u544A\u3002</p><p>\u5982\u679C\u5F00\u542F\u4E86 SQL \u4E25\u683C\u6A21\u5F0F\uFF0C\u5F53 char/varchar \u5217\u5B58\u50A8\u7684\u6570\u636E\u8FBE\u5230\u4E86\u6700\u5927\u957F\u5EA6\uFF0C\u5BF9\u4E8E\u975E\u7A7A\u683C\u5B57\u7B26\u7684\u622A\u65AD\uFF0C\u53EF\u80FD\u4F1A\u629B\u51FA\u9519\u8BEF\u3002</p><blockquote><p>For <code>VARCHAR</code> columns, trailing spaces in excess of the column length are truncated prior to insertion and a warning is generated, regardless of the SQL mode in use. For <code>CHAR</code> columns, truncation of excess trailing spaces from inserted values is performed silently regardless of the SQL mode.</p></blockquote><p>\u5BF9\u4E8E varchar \u5217\u6570\u636E\uFF0C\u4E0D\u7BA1 SQL \u6A21\u5F0F\u662F\u5426\u4E25\u683C\uFF0C\u5982\u679C\u63D2\u5165\u7684\u6570\u636E\u8D85\u8FC7\u6307\u5B9A\u957F\u5EA6\uFF0C\u5176\u5C3E\u968F\u7A7A\u683C\u4F1A\u5728\u63D2\u5165\u524D\u88AB\u622A\u65AD\uFF0C\u7136\u540E\u751F\u6210\u8B66\u544A\u3002</p><p>\u5BF9\u4E8E char \u5217\u6570\u636E\uFF0C\u4E0D\u7BA1 SQL \u6A21\u5F0F\u662F\u5426\u4E25\u683C\uFF0C\u5982\u679C\u63D2\u5165\u7684\u6570\u636E\u8D85\u8FC7\u6307\u5B9A\u957F\u5EA6\uFF0C\u5176\u5C3E\u968F\u7A7A\u683C\u4F1A\u4EE5\u9759\u9ED8\u7684\u65B9\u5F0F\u622A\u65AD\u3002</p><p>\u4E0B\u5217\u8868\u683C\u5C55\u793A\u4E86 CHAR \u548C VARCHAR \u5217\u5728\u5B58\u50A8\u6307\u5B9A\u957F\u5EA6\u4E3A 4 \u7684\u503C\u65F6\u7684\u4E0D\u540C\u8868\u73B0\uFF08\u5047\u8BBE\u5217\u6570\u636E\u4F7F\u7528\u7684\u5B57\u7B26\u96C6\u662F\u5355\u5B57\u8282\u5B57\u7B26\u96C6\uFF0C\u6BD4\u5982\u8BF4 <code>latin1</code>\uFF09</p><table><thead><tr><th>Value</th><th>CHAR(4)</th><th>Storage Required</th><th>VARCHAR(4)</th><th><strong>Storage Required</strong></th></tr></thead><tbody><tr><td>&#39;&#39;</td><td><code>&#39; &#39;</code></td><td>4 bytes</td><td>&#39;&#39;</td><td>1 byte</td></tr><tr><td>&#39;ab&#39;</td><td><code>&#39;ab &#39;</code></td><td>4 bytes</td><td>&#39;ab&#39;</td><td>3 bytes</td></tr><tr><td>&#39;abcd&#39;</td><td>&#39;abcd&#39;</td><td>4 bytes</td><td>&#39;abcd&#39;</td><td>5 bytes</td></tr><tr><td>&#39;abcdefgh&#39;</td><td>&#39;abcd&#39;</td><td>4 bytes</td><td>&#39;abcd&#39;</td><td>5 bytes</td></tr></tbody></table><blockquote><p>The values shown as stored in the last row of the table apply <em>only when not using strict SQL mode</em>; if strict mode is enabled, values that exceed the column length are <em>not stored</em>, and an error results.</p></blockquote><p>\u9700\u8981\u6CE8\u610F\uFF0C\u9700\u8981\u5F00\u542F\u975E\u4E25\u683C SQL \u6A21\u5F0F\uFF0C\u4E0A\u8868\u4E2D\u7684\u6700\u540E\u4E00\u884C\u6570\u636E\u624D\u80FD\u88AB\u4FDD\u5B58\uFF0C\u5426\u5219\u8D85\u8FC7\u957F\u5EA6\u7684\u6570\u636E\u5C06\u4E0D\u4F1A\u88AB\u4FDD\u5B58\uFF0C\u5E76\u4E14\u8FD8\u4F1A\u62A5\u9519\u3002</p><blockquote><p>If a given value is stored into the <code>CHAR(4)</code> and <code>VARCHAR(4)</code> columns, the values retrieved from the columns are not always the same because trailing spaces are removed from <code>CHAR</code> columns upon retrieval. The following example illustrates this difference:</p></blockquote><p>\u5982\u679C\u4E00\u4E2A\u7ED9\u5B9A\u7684\u503C\u88AB\u4FDD\u5B58\u5230 CHAR(4) \u548C VARCHAR(4) \u5217\u4E2D\uFF0C\u8BFB\u53D6\u5230\u7684\u6570\u636E\u4E0D\u4E00\u5B9A\u603B\u662F\u76F8\u540C\u7684\uFF0C\u56E0\u4E3A CHAR \u5217\u5728\u8BFB\u53D6\u6570\u636E\u7684\u65F6\u5019\u4F1A\u5C06\u5C3E\u968F\u7A7A\u683C\u53BB\u9664\u3002</p><div class="language-bash line-numbers-mode"><pre><code>mysql<span class="token operator">&gt;</span> CREATE TABLE vc <span class="token punctuation">(</span>v VARCHAR<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>, c CHAR<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
Query OK, <span class="token number">0</span> rows affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> INSERT INTO vc VALUES <span class="token punctuation">(</span><span class="token string">&#39;ab  &#39;</span>, <span class="token string">&#39;ab  &#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query OK, <span class="token number">1</span> row affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> SELECT CONCAT<span class="token punctuation">(</span><span class="token string">&#39;(&#39;</span>, v, <span class="token string">&#39;)&#39;</span><span class="token punctuation">)</span>, CONCAT<span class="token punctuation">(</span><span class="token string">&#39;(&#39;</span>, c, <span class="token string">&#39;)&#39;</span><span class="token punctuation">)</span> FROM vc<span class="token punctuation">;</span>
+---------------------+---------------------+
<span class="token operator">|</span> CONCAT<span class="token punctuation">(</span><span class="token string">&#39;(&#39;</span>, v, <span class="token string">&#39;)&#39;</span><span class="token punctuation">)</span> <span class="token operator">|</span> CONCAT<span class="token punctuation">(</span><span class="token string">&#39;(&#39;</span>, c, <span class="token string">&#39;)&#39;</span><span class="token punctuation">)</span> <span class="token operator">|</span>
+---------------------+---------------------+
<span class="token operator">|</span> <span class="token punctuation">(</span>ab  <span class="token punctuation">)</span>              <span class="token operator">|</span> <span class="token punctuation">(</span>ab<span class="token punctuation">)</span>                <span class="token operator">|</span>
+---------------------+---------------------+
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token builtin class-name">set</span> <span class="token punctuation">(</span><span class="token number">0.06</span> sec<span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>\u53EF\u4EE5\u770B\u5230\uFF0C\u8BFB\u53D6\u5230\u7684 varchar \u6570\u636E\u5E76\u6CA1\u6709\u53BB\u6389\u5C3E\u968F\u7A7A\u683C\uFF0C\u800C char \u7C7B\u578B\u7684\u6570\u636E\u53BB\u6389\u4E86\u5C3E\u968F\u7A7A\u683C\u3002</p><blockquote><p><code>InnoDB</code> encodes fixed-length fields greater than or equal to 768 bytes in length as variable-length fields, which can be stored off-page. For example, a <code>CHAR(255)</code> column can exceed 768 bytes if the maximum byte length of the character set is greater than 3, as it is with <code>utf8mb4</code>.</p></blockquote><p>InnoDB \u4F1A\u5C06\u957F\u5EA6\u5927\u4E8E\u6216\u7B49\u4E8E 768 \u5B57\u8282\u7684\u56FA\u5B9A\u957F\u5EA6\u5B57\u6BB5\u7F16\u7801\u4E3A\u53EF\u53D8\u957F\u5EA6\u5B57\u6BB5\uFF0C\u8BA9\u6570\u636E\u53EF\u4EE5\u5728\u9875\u5916\u5B58\u50A8\u3002\u5982\u679C\u5B57\u7B26\u96C6\u7684\u6700\u5927\u5B57\u8282\u957F\u5EA6\u5927\u4E8E 3\uFF0C\u4E00\u4E2A CHAR(255) \u5217\u53EF\u4EE5\u8D85\u8FC7 768 \u5B57\u8282\uFF0C\u6BD4\u5982 utf8mb4\u3002</p><blockquote><p>Values in <code>CHAR</code>, <code>VARCHAR</code>, and <code>TEXT</code> columns are sorted and compared according to the character set collation assigned to the column.</p></blockquote><p><code>CHAR</code>, <code>VARCHAR</code>, \u548C <code>TEXT</code> \u6570\u636E\u4F1A\u6839\u636E\u5206\u914D\u7ED9\u8BE5\u5217\u7684\u5B57\u7B26\u96C6\u89C4\u5219\u8FDB\u884C\u6392\u5E8F\u548C\u6BD4\u8F83\u3002</p><h2 id="\u6B63\u6392-\u5012\u6392\u7D22\u5F15" tabindex="-1">\u6B63\u6392/\u5012\u6392\u7D22\u5F15 <a class="header-anchor" href="#\u6B63\u6392-\u5012\u6392\u7D22\u5F15" aria-hidden="true">#</a></h2><br><h2 id="\u53C2\u8003" tabindex="-1">\u53C2\u8003 <a class="header-anchor" href="#\u53C2\u8003" aria-hidden="true">#</a></h2><p><a href="https://www.cnblogs.com/xrq730/p/11039384.html" target="_blank" rel="noopener noreferrer">Sql Or NoSql</a></p><p><a href="https://www.huaweicloud.com/zhishi/1592288147096.html" target="_blank" rel="noopener noreferrer">\u5173\u7CFB\u578B\u6570\u636E\u5E93\u548C\u975E\u5173\u7CFB\u578B\u533A\u522B</a></p><p><a href="https://dev.mysql.com/doc/refman/8.0/en/char.html" target="_blank" rel="noopener noreferrer">The CHAR and VARCHAR Types</a></p>`,69);function l(d,i,u,h,b,m){const e=o("Catalog");return r(),n("div",null,[p,s(e)])}var k=a(c,[["render",l]]);export{f as __pageData,k as default};
